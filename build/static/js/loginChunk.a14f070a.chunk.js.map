{"version":3,"sources":["../static/js/loginChunk.a14f070a.chunk.js","routes/User/modules/login.js","routes/User/containers/loginContainer.js"],"names":["webpackJsonp","1916","module","__webpack_exports__","__webpack_require__","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","_objectWithoutProperties","keys","target","i","indexOf","prototype","hasOwnProperty","call","d","loginUserSuccess","loginUserError","_ACTION_HANDLERS","type","message","_ref2","error","initialState","ACTION_HANDLERS","state","_ref3","payload","assign","loading","email","_ref4","successMessage","_ref5","errorMessage","token","localStorage","getItem","username","alertMessage","484","_taggedTemplateLiteral","strings","raw","freeze","defineProperties","__WEBPACK_IMPORTED_MODULE_0_antd_lib_message_style__","__WEBPACK_IMPORTED_MODULE_1_antd_lib_message__","n","__WEBPACK_IMPORTED_MODULE_1_antd_lib_message___default","__WEBPACK_IMPORTED_MODULE_2_react_redux__","__WEBPACK_IMPORTED_MODULE_3_react_apollo__","__WEBPACK_IMPORTED_MODULE_4__modules_login__","__WEBPACK_IMPORTED_MODULE_5__modules_user__","__WEBPACK_IMPORTED_MODULE_6__components_Login__","__WEBPACK_IMPORTED_MODULE_7_graphql_tag__","__WEBPACK_IMPORTED_MODULE_7_graphql_tag___default","_templateObject","_templateObject2","_templateObject3","UserMainInfo_QUERY","fragments","user","loginUser","forgotPassword","withMutationForgot","props","_ref","mutate","input","variables","withMutation","password","update","store","login","data","readQuery","query","newData","account","writeQuery","mapStateToProps","allowSignUp","network","mapDispatchToProps","dispatch","ownProps","onSubmit","then","catch","onClick","forgot_email","_ref6","history","push","a","success"],"mappings":"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","file":"static/js/loginChunk.a14f070a.chunk.js","sourcesContent":["webpackJsonp([12],{\n\n/***/ 1916:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export LOGIN_USER_REQUEST */\n/* unused harmony export LOGIN_USER_SUCCESS */\n/* unused harmony export LOGIN_USER_ERROR */\n/* unused harmony export loginUserRequest */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return loginUserSuccess; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return loginUserError; });\n/* unused harmony export actions */\n/* unused harmony export default */\nvar _ACTION_HANDLERS;function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i];}return target;}var LOGIN_USER_REQUEST='LOGIN_USER_REQUEST';var LOGIN_USER_SUCCESS='LOGIN_USER_SUCCESS';var LOGIN_USER_ERROR='LOGIN_USER_ERROR';// ------------------------------------\n// Actions\n// ------------------------------------\nvar loginUserRequest=function loginUserRequest(_ref){var email=_ref.email;return{type:LOGIN_USER_REQUEST,email:email};};var loginUserSuccess=function loginUserSuccess(){return{type:LOGIN_USER_SUCCESS,message:'User logged in successfully!'};};var loginUserError=function loginUserError(_ref2){var error=_ref2.error;return{type:LOGIN_USER_ERROR,message:error.message};};//const initialState={token: };\nvar actions={loginUserRequest:loginUserRequest,loginUserSuccess:loginUserSuccess,loginUserError:loginUserError// ------------------------------------\n// Action Handlers\n// ------------------------------------\n};var ACTION_HANDLERS=(_ACTION_HANDLERS={},_defineProperty(_ACTION_HANDLERS,LOGIN_USER_REQUEST,function(state,_ref3){var type=_ref3.type,payload=_objectWithoutProperties(_ref3,['type']);return Object.assign({},initialState,{loading:true,email:payload.email});}),_defineProperty(_ACTION_HANDLERS,LOGIN_USER_SUCCESS,function(state,_ref4){var type=_ref4.type,payload=_objectWithoutProperties(_ref4,['type']);return Object.assign({},state,{successMessage:payload.message,loading:false});}),_defineProperty(_ACTION_HANDLERS,LOGIN_USER_ERROR,function(state,_ref5){var type=_ref5.type,payload=_objectWithoutProperties(_ref5,['type']);return Object.assign({},state,{loading:false,errorMessage:payload.message});}),_ACTION_HANDLERS);// ------------------------------------\n// Reducer\n// ------------------------------------\nvar initialState={token:localStorage.getItem('token'),loading:false,username:null,errorMessage:null,alertMessage:null};function loginReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments[1];var handler=ACTION_HANDLERS[action.type];//action.payload = {};\nreturn handler?handler(state,action):state;}\n\n/***/ }),\n\n/***/ 484:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_antd_lib_message_style__ = __webpack_require__(443);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_antd_lib_message_style___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_antd_lib_message_style__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_antd_lib_message__ = __webpack_require__(442);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_antd_lib_message___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_antd_lib_message__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react_redux__ = __webpack_require__(52);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_apollo__ = __webpack_require__(34);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_apollo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_react_apollo__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__modules_login__ = __webpack_require__(1916);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__modules_user__ = __webpack_require__(162);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__components_Login__ = __webpack_require__(169);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_graphql_tag__ = __webpack_require__(32);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_graphql_tag___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_graphql_tag__);\nvar _templateObject=_taggedTemplateLiteral(['\\n    query ACCOUNT_INFO {\\n        account {\\n            ...CurrenUserInfo\\n            possibleNetworkRoles\\n            possibleProviderRoles\\n            currentRole\\n        }\\n    }\\n    ','\\n'],['\\n    query ACCOUNT_INFO {\\n        account {\\n            ...CurrenUserInfo\\n            possibleNetworkRoles\\n            possibleProviderRoles\\n            currentRole\\n        }\\n    }\\n    ','\\n']),_templateObject2=_taggedTemplateLiteral(['\\n    mutation loginUser($input: LoginInput!) {\\n        login(input: $input) {\\n           ...CurrenUserInfo\\n            possibleNetworkRoles\\n            possibleProviderRoles\\n            currentRole\\n            checkToken\\n        }\\n    }\\n    ','\\n'],['\\n    mutation loginUser($input: LoginInput!) {\\n        login(input: $input) {\\n           ...CurrenUserInfo\\n            possibleNetworkRoles\\n            possibleProviderRoles\\n            currentRole\\n            checkToken\\n        }\\n    }\\n    ','\\n']),_templateObject3=_taggedTemplateLiteral(['\\n    mutation forgotPassword($email:Email!) {\\n       forgotPassword(email:$email)\\n    }\\n\\n'],['\\n    mutation forgotPassword($email:Email!) {\\n       forgotPassword(email:$email)\\n    }\\n\\n']);function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}));}//import React from 'react'\nvar UserMainInfo_QUERY=__WEBPACK_IMPORTED_MODULE_7_graphql_tag___default()(_templateObject,__WEBPACK_IMPORTED_MODULE_6__components_Login__[\"a\" /* default */].fragments.user);var loginUser=__WEBPACK_IMPORTED_MODULE_7_graphql_tag___default()(_templateObject2,__WEBPACK_IMPORTED_MODULE_6__components_Login__[\"a\" /* default */].fragments.user);var forgotPassword=__WEBPACK_IMPORTED_MODULE_7_graphql_tag___default()(_templateObject3);var withMutationForgot=Object(__WEBPACK_IMPORTED_MODULE_3_react_apollo__[\"graphql\"])(forgotPassword,{props:function props(_ref){var mutate=_ref.mutate;return{forgotPassword:function forgotPassword(input){return mutate({variables:{email:input.email}});}};}});var withMutation=Object(__WEBPACK_IMPORTED_MODULE_3_react_apollo__[\"graphql\"])(loginUser,{props:function props(_ref2){var mutate=_ref2.mutate;return{loginUser:function loginUser(input){return mutate({variables:{input:{email:input.email,password:input.password}},// update query\nupdate:function update(store,_ref3){var login=_ref3.data.login;// Read the data from our cache for this query.\nvar data=store.readQuery({query:UserMainInfo_QUERY});var newData=Object.assign({},data,{account:Object.assign({},data.account,login)});store.writeQuery({query:UserMainInfo_QUERY,data:newData});}});}};}});var mapStateToProps=function mapStateToProps(state){return{allowSignUp:state.network.allowSignUp,token:state.user.token,loading:state.user.loading};};var mapDispatchToProps=function mapDispatchToProps(dispatch,ownProps){return{onSubmit:function onSubmit(props){var email=props.email,password=props.password;dispatch(Object(__WEBPACK_IMPORTED_MODULE_5__modules_user__[\"e\" /* loadUserPrepare */])());ownProps.loginUser({email:email,password:password}).then(function(_ref4){var data=_ref4.data;var token=data.login.token;var user=data.login.user;user.token=token;dispatch(Object(__WEBPACK_IMPORTED_MODULE_5__modules_user__[\"c\" /* loadUser */])(user));//dispatch(setUserToken(token));\ndispatch(Object(__WEBPACK_IMPORTED_MODULE_4__modules_login__[\"b\" /* loginUserSuccess */])({token:token}));}).catch(function(error){dispatch(Object(__WEBPACK_IMPORTED_MODULE_5__modules_user__[\"d\" /* loadUserFAIL */])({error:error}));dispatch(Object(__WEBPACK_IMPORTED_MODULE_4__modules_login__[\"a\" /* loginUserError */])({error:error}));//message.error(error.message);\n});},onClick:function onClick(_ref5){var forgot_email=_ref5.forgot_email;ownProps.forgotPassword({email:forgot_email}).then(function(_ref6){var data=_ref6.data;// redirect to Enter code\nownProps.history.push('/password/reset');// show success message\n__WEBPACK_IMPORTED_MODULE_1_antd_lib_message___default.a.success('Reset password link has been sent');});/*.catch((error) => {\r\n\r\n\r\n        });*/}};};/* harmony default export */ __webpack_exports__[\"default\"] = (Object(__WEBPACK_IMPORTED_MODULE_3_react_apollo__[\"compose\"])(withMutation,withMutationForgot,Object(__WEBPACK_IMPORTED_MODULE_2_react_redux__[\"b\" /* connect */])(mapStateToProps,mapDispatchToProps))(__WEBPACK_IMPORTED_MODULE_6__components_Login__[\"a\" /* default */]));\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/loginChunk.a14f070a.chunk.js","\r\nexport const LOGIN_USER_REQUEST = 'LOGIN_USER_REQUEST';\r\nexport const LOGIN_USER_SUCCESS = 'LOGIN_USER_SUCCESS';\r\nexport const LOGIN_USER_ERROR = 'LOGIN_USER_ERROR';\r\n\r\n// ------------------------------------\r\n// Actions\r\n// ------------------------------------\r\nexport const loginUserRequest = ({ email }) => ({\r\n    type: LOGIN_USER_REQUEST,\r\n    email,\r\n});\r\n\r\nexport const loginUserSuccess = () => ({\r\n    type: LOGIN_USER_SUCCESS,\r\n    message: 'User logged in successfully!',\r\n});\r\n\r\nexport const loginUserError = ({ error }) => ({\r\n    type: LOGIN_USER_ERROR,\r\n    message: error.message,\r\n});\r\n\r\n//const initialState={token: };\r\n\r\n\r\nexport const actions = {\r\n    loginUserRequest,\r\n    loginUserSuccess,\r\n    loginUserError\r\n}\r\n\r\n// ------------------------------------\r\n// Action Handlers\r\n// ------------------------------------\r\nconst ACTION_HANDLERS = {\r\n    [LOGIN_USER_REQUEST]    : (state, { type, ...payload }) => {\r\n\r\n        return {\r\n        ...initialState,\r\n        loading: true,\r\n        email: payload.email,\r\n    };},\r\n    [LOGIN_USER_SUCCESS] : (state, { type, ...payload }) => {return {\r\n        ...state,\r\n        successMessage: payload.message,\r\n        loading: false,\r\n    };},\r\n    [LOGIN_USER_ERROR] : (state, { type, ...payload }) => {return {\r\n        ...state,\r\n        loading: false,\r\n        errorMessage: payload.message,\r\n    };}\r\n}\r\n\r\n// ------------------------------------\r\n// Reducer\r\n// ------------------------------------\r\nconst initialState = {\r\n    token: localStorage.getItem('token'),\r\n    loading: false,\r\n    username: null,\r\n    errorMessage: null,\r\n    alertMessage: null,\r\n};\r\nexport default function loginReducer (state = initialState, action) {\r\n    const handler = ACTION_HANDLERS[action.type]\r\n\r\n    //action.payload = {};\r\n    return handler ? handler(state, action) : state\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/routes/User/modules/login.js","//import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { compose } from 'react-apollo';\r\nimport { message } from 'antd';\r\nimport { loginUserSuccess, loginUserError} from '../modules/login'\r\nimport {loadUser, loadUserFAIL, loadUserPrepare} from '../modules/user'\r\n\r\nimport LoginForm from '../components/Login'\r\nimport { graphql } from 'react-apollo';\r\nimport gql from 'graphql-tag';\r\n\r\n\r\nconst UserMainInfo_QUERY = gql`\r\n    query ACCOUNT_INFO {\r\n        account {\r\n            ...CurrenUserInfo\r\n            possibleNetworkRoles\r\n            possibleProviderRoles\r\n            currentRole\r\n        }\r\n    }\r\n    ${LoginForm.fragments.user}\r\n`;\r\n\r\nconst loginUser = gql`\r\n    mutation loginUser($input: LoginInput!) {\r\n        login(input: $input) {\r\n           ...CurrenUserInfo\r\n            possibleNetworkRoles\r\n            possibleProviderRoles\r\n            currentRole\r\n            checkToken\r\n        }\r\n    }\r\n    ${LoginForm.fragments.user}\r\n`;\r\nconst forgotPassword = gql`\r\n    mutation forgotPassword($email:Email!) {\r\n       forgotPassword(email:$email)\r\n    }\r\n\r\n`;\r\nconst withMutationForgot = graphql(forgotPassword,\r\n    {\r\n        props: ({ mutate }) => ({\r\n            forgotPassword: input => {\r\n                return mutate({\r\n                    variables: { email: input.email},\r\n                })\r\n            },\r\n        }),\r\n    }\r\n);\r\n\r\n\r\nconst withMutation = graphql(loginUser, {\r\n    props: ({ mutate }) => ({\r\n        loginUser: input => {\r\n            return mutate({\r\n                variables: { input: {email: input.email, password: input.password}},\r\n                // update query\r\n\r\n                update: (store, { data: { login} }) => {\r\n\r\n                    // Read the data from our cache for this query.\r\n                    const data = store.readQuery({\r\n                        query: UserMainInfo_QUERY,\r\n                    });\r\n\r\n                    const newData = {...data, ...{account: {...data.account, ...login}}};\r\n\r\n                    store.writeQuery({\r\n                        query: UserMainInfo_QUERY,\r\n                        data: newData\r\n                    });\r\n                }\r\n            })\r\n        },\r\n    }),\r\n});\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        allowSignUp: state.network.allowSignUp,\r\n        token: state.user.token,\r\n        loading: state.user.loading\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => ({\r\n    onSubmit: (props) => {\r\n        const{email, password} = props;\r\n        dispatch(loadUserPrepare());\r\n        ownProps.loginUser({ email:email, password:password })\r\n            .then(({data}) => {\r\n                const token = data.login.token;\r\n                let user = data.login.user;\r\n                user.token = token;\r\n                dispatch(loadUser(user));\r\n                //dispatch(setUserToken(token));\r\n\r\n                dispatch(loginUserSuccess({token}));\r\n            }).catch((error) => {\r\n\r\n                dispatch(loadUserFAIL({ error,\r\n                }));\r\n                dispatch(loginUserError({\r\n                    error,\r\n                }));\r\n                //message.error(error.message);\r\n\r\n\r\n        });\r\n    },\r\n    onClick: ({forgot_email}) => {\r\n        ownProps.forgotPassword({ email:forgot_email})\r\n            .then(({data}) => {\r\n\r\n                // redirect to Enter code\r\n                ownProps.history.push('/password/reset');\r\n                // show success message\r\n                message.success('Reset password link has been sent');\r\n\r\n            });/*.catch((error) => {\r\n\r\n\r\n        });*/\r\n\r\n\r\n    },\r\n});\r\nexport default compose(withMutation,withMutationForgot,connect(mapStateToProps, mapDispatchToProps))((LoginForm));\r\n\r\n\r\n\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/routes/User/containers/loginContainer.js"],"sourceRoot":""}